"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[2607],{8453(e,n,s){s.d(n,{R:()=>d,x:()=>t});var r=s(6540);const i={},l=r.createContext(i);function d(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(l.Provider,{value:n},e.children)}},9728(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>o,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"contributing/release-process","title":"Release Process","description":"How STELLA versions and releases work","source":"@site/docs/contributing/release-process.md","sourceDirName":"contributing","slug":"/contributing/release-process","permalink":"/STELLA_backend/docs/contributing/release-process","draft":false,"unlisted":false,"editUrl":"https://github.com/c4dhi/STELLA_backend/tree/main/docs-site/docs/contributing/release-process.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Release Process","description":"How STELLA versions and releases work"},"sidebar":"docsSidebar","previous":{"title":"Pull Request Process","permalink":"/STELLA_backend/docs/contributing/pull-request-process"}}');var i=s(4848),l=s(8453);const d={sidebar_position:5,title:"Release Process",description:"How STELLA versions and releases work"},t="Release Process",c={},a=[{value:"Versioning",id:"versioning",level:2},{value:"Version Meaning",id:"version-meaning",level:3},{value:"Pre-release Versions",id:"pre-release-versions",level:3},{value:"Release Schedule",id:"release-schedule",level:2},{value:"Release Checklist",id:"release-checklist",level:2},{value:"1. Prepare Release",id:"1-prepare-release",level:3},{value:"2. Update Version Numbers",id:"2-update-version-numbers",level:3},{value:"3. Update Changelog",id:"3-update-changelog",level:3},{value:"4. Run Full Test Suite",id:"4-run-full-test-suite",level:3},{value:"5. Create Release PR",id:"5-create-release-pr",level:3},{value:"6. After PR Merge",id:"6-after-pr-merge",level:3},{value:"7. Create GitHub Release",id:"7-create-github-release",level:3},{value:"8. Build and Push Images",id:"8-build-and-push-images",level:3},{value:"Hotfix Process",id:"hotfix-process",level:2},{value:"Docker Image Tags",id:"docker-image-tags",level:2},{value:"Documentation Releases",id:"documentation-releases",level:2},{value:"Changelog Format",id:"changelog-format",level:2},{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"Required Changes",id:"required-changes",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"release-process",children:"Release Process"})}),"\n",(0,i.jsx)(n.p,{children:"This document describes how we version, release, and distribute STELLA."}),"\n",(0,i.jsx)(n.h2,{id:"versioning",children:"Versioning"}),"\n",(0,i.jsxs)(n.p,{children:["We use ",(0,i.jsx)(n.a,{href:"https://semver.org/",children:"Semantic Versioning"})," (SemVer):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"MAJOR.MINOR.PATCH\n\nExamples:\n1.0.0  - First stable release\n1.1.0  - New features, backward compatible\n1.1.1  - Bug fixes\n2.0.0  - Breaking changes\n"})}),"\n",(0,i.jsx)(n.h3,{id:"version-meaning",children:"Version Meaning"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Version Change"}),(0,i.jsx)(n.th,{children:"When to Use"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"MAJOR"}),(0,i.jsx)(n.td,{children:"Breaking API changes"}),(0,i.jsx)(n.td,{children:"Renamed endpoints"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"MINOR"}),(0,i.jsx)(n.td,{children:"New features (backward compatible)"}),(0,i.jsx)(n.td,{children:"New agent type"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PATCH"}),(0,i.jsx)(n.td,{children:"Bug fixes"}),(0,i.jsx)(n.td,{children:"Fix crash on disconnect"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"pre-release-versions",children:"Pre-release Versions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1.0.0-alpha.1  - Early testing\n1.0.0-beta.1   - Feature complete, testing\n1.0.0-rc.1     - Release candidate\n"})}),"\n",(0,i.jsx)(n.h2,{id:"release-schedule",children:"Release Schedule"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Frequency"}),(0,i.jsx)(n.th,{children:"Contents"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Major"}),(0,i.jsx)(n.td,{children:"As needed"}),(0,i.jsx)(n.td,{children:"Breaking changes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Minor"}),(0,i.jsx)(n.td,{children:"Monthly"}),(0,i.jsx)(n.td,{children:"New features"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Patch"}),(0,i.jsx)(n.td,{children:"As needed"}),(0,i.jsx)(n.td,{children:"Bug fixes, security"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"release-checklist",children:"Release Checklist"}),"\n",(0,i.jsx)(n.h3,{id:"1-prepare-release",children:"1. Prepare Release"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Ensure on main branch\ngit checkout main\ngit pull upstream main\n\n# Create release branch\ngit checkout -b release/v1.2.0\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-update-version-numbers",children:"2. Update Version Numbers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Root package.json\nnpm version minor\n\n# Frontend\ncd frontend-ui && npm version minor && cd ..\n\n# Agents (pyproject.toml or setup.py)\n# Update version manually\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-update-changelog",children:"3. Update Changelog"}),"\n",(0,i.jsxs)(n.p,{children:["Add entry to ",(0,i.jsx)(n.code,{children:"CHANGELOG.md"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-markdown",children:"## [1.2.0] - 2024-01-15\n\n### Added\n- New feature X (#123)\n- Support for Y (#124)\n\n### Changed\n- Improved performance of Z (#125)\n\n### Fixed\n- Bug in session cleanup (#126)\n\n### Security\n- Updated dependency A to fix CVE-XXXX (#127)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-run-full-test-suite",children:"4. Run Full Test Suite"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Backend\nnpm test\nnpm run test:e2e\n\n# Frontend\ncd frontend-ui && npm test\n\n# Agents\ncd agents/stella-agent && pytest\ncd agents/stella-light && pytest\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-create-release-pr",children:"5. Create Release PR"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'git add .\ngit commit -m "chore: prepare release v1.2.0"\ngit push origin release/v1.2.0\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Create PR: ",(0,i.jsx)(n.code,{children:"release/v1.2.0"})," \u2192 ",(0,i.jsx)(n.code,{children:"main"})]}),"\n",(0,i.jsx)(n.h3,{id:"6-after-pr-merge",children:"6. After PR Merge"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Create and push tag\ngit checkout main\ngit pull\ngit tag -a v1.2.0 -m "Release v1.2.0"\ngit push upstream v1.2.0\n'})}),"\n",(0,i.jsx)(n.h3,{id:"7-create-github-release",children:"7. Create GitHub Release"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Go to GitHub Releases"}),"\n",(0,i.jsx)(n.li,{children:'Click "Create a new release"'}),"\n",(0,i.jsxs)(n.li,{children:["Select tag ",(0,i.jsx)(n.code,{children:"v1.2.0"})]}),"\n",(0,i.jsx)(n.li,{children:'Title: "v1.2.0"'}),"\n",(0,i.jsx)(n.li,{children:"Description: Copy from CHANGELOG"}),"\n",(0,i.jsx)(n.li,{children:"Publish release"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"8-build-and-push-images",children:"8. Build and Push Images"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Backend\ndocker build -t ghcr.io/c4dhi/stella-backend:1.2.0 .\ndocker push ghcr.io/c4dhi/stella-backend:1.2.0\n\n# Agents\ncd agents/stella-agent\ndocker build -t ghcr.io/c4dhi/stella-agent:1.2.0 .\ndocker push ghcr.io/c4dhi/stella-agent:1.2.0\n\n# Tag as latest\ndocker tag ghcr.io/c4dhi/stella-backend:1.2.0 ghcr.io/c4dhi/stella-backend:latest\ndocker push ghcr.io/c4dhi/stella-backend:latest\n"})}),"\n",(0,i.jsx)(n.h2,{id:"hotfix-process",children:"Hotfix Process"}),"\n",(0,i.jsx)(n.p,{children:"For urgent bug fixes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Create hotfix branch from tag\ngit checkout -b hotfix/v1.2.1 v1.2.0\n\n# Make fix\ngit add .\ngit commit -m "fix: critical bug in X"\n\n# Update version\nnpm version patch\n\n# Create PR to main\ngit push origin hotfix/v1.2.1\n'})}),"\n",(0,i.jsx)(n.p,{children:"After merge:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Tag as ",(0,i.jsx)(n.code,{children:"v1.2.1"})]}),"\n",(0,i.jsx)(n.li,{children:"Create GitHub release"}),"\n",(0,i.jsx)(n.li,{children:"Build and push images"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"docker-image-tags",children:"Docker Image Tags"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Tag"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"latest"})}),(0,i.jsx)(n.td,{children:"Most recent stable release"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1.2.0"})}),(0,i.jsx)(n.td,{children:"Specific version"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1.2"})}),(0,i.jsx)(n.td,{children:"Latest patch of 1.2.x"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1"})}),(0,i.jsx)(n.td,{children:"Latest minor of 1.x.x"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"main"})}),(0,i.jsx)(n.td,{children:"Latest from main branch"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"documentation-releases",children:"Documentation Releases"}),"\n",(0,i.jsx)(n.p,{children:"Documentation is deployed automatically:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"main branch"})," \u2192 ",(0,i.jsx)(n.a,{href:"https://c4dhi.github.io/STELLA_backend/",children:"https://c4dhi.github.io/STELLA_backend/"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Pull requests"})," \u2192 Preview builds (if configured)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"changelog-format",children:"Changelog Format"}),"\n",(0,i.jsxs)(n.p,{children:["We follow ",(0,i.jsx)(n.a,{href:"https://keepachangelog.com/",children:"Keep a Changelog"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-markdown",children:"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\n## [Unreleased]\n\n### Added\n- New features not yet released\n\n## [1.2.0] - 2024-01-15\n\n### Added\n- Feature description (#PR)\n\n### Changed\n- Change description (#PR)\n\n### Deprecated\n- Deprecated feature (#PR)\n\n### Removed\n- Removed feature (#PR)\n\n### Fixed\n- Bug fix description (#PR)\n\n### Security\n- Security fix description (#PR)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,i.jsx)(n.p,{children:"When introducing breaking changes:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Document clearly"})," in CHANGELOG"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Provide migration guide"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Deprecate first"})," when possible"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Major version bump"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example migration guide:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-markdown",children:'## Migration Guide: v1.x to v2.0\n\n### Session API Changes\n\n**Before (v1.x):**\n```json\nPOST /api/sessions\n{\n  "projectId": "..."\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"After (v2.0):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'POST /api/v2/sessions\n{\n  "project_id": "...",\n  "agent_config": {}\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"required-changes",children:"Required Changes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Update API endpoints to use ",(0,i.jsx)(n.code,{children:"/api/v2/"})]}),"\n",(0,i.jsxs)(n.li,{children:["Change ",(0,i.jsx)(n.code,{children:"projectId"})," to ",(0,i.jsx)(n.code,{children:"project_id"})]}),"\n",(0,i.jsxs)(n.li,{children:["Add required ",(0,i.jsx)(n.code,{children:"agent_config"})," field"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\n## Next Steps\n\n- [Pull Request Process](/docs/contributing/pull-request-process) - Submit changes\n- [Coding Standards](/docs/contributing/coding-standards) - Style guide\n"})})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);