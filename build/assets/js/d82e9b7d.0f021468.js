"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[8796],{624(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"agents/stella-agent/expert-pool-overview","title":"Overview","description":"The stella-agent includes a Parallel Expert Pool - a sophisticated system that routes potentially sensitive queries through specialized domain experts for analysis before generating responses.","source":"@site/docs/agents/stella-agent/expert-pool-overview.md","sourceDirName":"agents/stella-agent","slug":"/agents/stella-agent/expert-pool-overview","permalink":"/STELLA_backend/docs/agents/stella-agent/expert-pool-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/c4dhi/STELLA_backend/tree/main/docs-site/docs/agents/stella-agent/expert-pool-overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Overview"},"sidebar":"docsSidebar","previous":{"title":"Overview","permalink":"/STELLA_backend/docs/agents/stella-agent/"},"next":{"title":"Default Experts","permalink":"/STELLA_backend/docs/agents/stella-agent/default-experts"}}');var l=t(4848),r=t(8453);const i={sidebar_position:1,title:"Overview"},a="Expert Pool System",o={},c=[{value:"What is the Expert Pool?",id:"what-is-the-expert-pool",level:2},{value:"Multi-Stage Pipeline",id:"multi-stage-pipeline",level:2},{value:"Pipeline Stages",id:"pipeline-stages",level:2},{value:"Stage 1: InputGate",id:"stage-1-inputgate",level:3},{value:"Stage 2: ExpertPool",id:"stage-2-expertpool",level:3},{value:"Stage 3: Aggregator",id:"stage-3-aggregator",level:3},{value:"Parallel Execution",id:"parallel-execution",level:2},{value:"Source Files Reference",id:"source-files-reference",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"expert-pool-system",children:"Expert Pool System"})}),"\n",(0,l.jsxs)(n.p,{children:["The stella-agent includes a ",(0,l.jsx)(n.strong,{children:"Parallel Expert Pool"})," - a sophisticated system that routes potentially sensitive queries through specialized domain experts for analysis before generating responses."]}),"\n",(0,l.jsx)(n.h2,{id:"what-is-the-expert-pool",children:"What is the Expert Pool?"}),"\n",(0,l.jsx)(n.p,{children:"The Expert Pool provides:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Safety layer"})," for sensitive topics (medical, legal, financial, ethical)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Parallel expert execution"})," for fast, comprehensive analysis"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Dynamic expert selection"})," based on content and risk scoring"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Consensus synthesis"})," that resolves conflicting expert findings"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"multi-stage-pipeline",children:"Multi-Stage Pipeline"}),"\n",(0,l.jsx)(n.p,{children:"When user input is classified as potentially sensitive, it flows through a multi-stage pipeline:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     EXPERT POOL PIPELINE                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                  \u2502\n\u2502   User Input                                                     \u2502\n\u2502       \u2502                                                          \u2502\n\u2502       \u25bc                                                          \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                               \u2502\n\u2502   \u2502  InputGate  \u2502 \u2500\u2500\u2500 Routes as SAFE or UNSAFE                  \u2502\n\u2502   \u2502             \u2502 \u2500\u2500\u2500 Selects relevant experts                  \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                               \u2502\n\u2502       \u2502                                                          \u2502\n\u2502       \u251c\u2500\u2500 SAFE \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba Direct LLM Response    \u2502\n\u2502       \u2502                                                          \u2502\n\u2502       \u2514\u2500\u2500 UNSAFE \u2500\u2500\u2510                                            \u2502\n\u2502                    \u25bc                                             \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502              \u2502         EXPERT POOL                    \u2502          \u2502\n\u2502              \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502          \u2502\n\u2502              \u2502  \u2502 Medical \u2502 \u2502 Ethics  \u2502 \u2502 Legal   \u2502  \u2502          \u2502\n\u2502              \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502          \u2502\n\u2502              \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502          \u2502\n\u2502              \u2502  \u2502 Finance \u2502 \u2502Timekeeper\u2502 (parallel) \u2502          \u2502\n\u2502              \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502          \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502                    \u2502                                             \u2502\n\u2502                    \u25bc                                             \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                    \u2502\n\u2502              \u2502 Aggregator  \u2502 \u2500\u2500\u2500 Synthesizes expert findings    \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                    \u2502\n\u2502                    \u2502                                             \u2502\n\u2502                    \u25bc                                             \u2502\n\u2502              Natural Response                                    \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,l.jsx)(n.h2,{id:"pipeline-stages",children:"Pipeline Stages"}),"\n",(0,l.jsx)(n.h3,{id:"stage-1-inputgate",children:"Stage 1: InputGate"}),"\n",(0,l.jsx)(n.p,{children:"The InputGate is the entry point that analyzes and routes user input:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Analyzes user input for content classification"}),"\n",(0,l.jsxs)(n.li,{children:["Routes as ",(0,l.jsx)(n.code,{children:"SAFE"})," (direct response) or ",(0,l.jsx)(n.code,{children:"UNSAFE"})," (requires expert review)"]}),"\n",(0,l.jsx)(n.li,{children:"Selects which experts should analyze the query"}),"\n",(0,l.jsx)(n.li,{children:"Calculates risk scores for expert activation"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"stage-2-expertpool",children:"Stage 2: ExpertPool"}),"\n",(0,l.jsx)(n.p,{children:"The ExpertPool executes domain experts in parallel:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Executes selected experts in parallel using ",(0,l.jsx)(n.code,{children:"asyncio.gather()"})]}),"\n",(0,l.jsx)(n.li,{children:"Each expert provides independent analysis"}),"\n",(0,l.jsx)(n.li,{children:"Experts run simultaneously for faster response times"}),"\n",(0,l.jsx)(n.li,{children:"Handles failures gracefully (one expert failing doesn't block others)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"stage-3-aggregator",children:"Stage 3: Aggregator"}),"\n",(0,l.jsx)(n.p,{children:"The Aggregator synthesizes expert findings into a coherent response:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Collects all expert results"}),"\n",(0,l.jsx)(n.li,{children:"Analyzes conflicts and consensus"}),"\n",(0,l.jsx)(n.li,{children:"Synthesizes findings into a natural, conversational response"}),"\n",(0,l.jsx)(n.li,{children:"Streams response tokens in real-time"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"parallel-execution",children:"Parallel Execution"}),"\n",(0,l.jsx)(n.p,{children:"Selected experts run concurrently for optimal performance:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# All selected experts run simultaneously\ntasks = [expert.analyze(input) for expert in selected_experts]\nresults = await asyncio.gather(*tasks, return_exceptions=True)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Faster response times (experts don't wait for each other)"}),"\n",(0,l.jsx)(n.li,{children:"Independent analysis (no expert influences another)"}),"\n",(0,l.jsx)(n.li,{children:"Graceful error handling (one failure doesn't block others)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"source-files-reference",children:"Source Files Reference"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Component"}),(0,l.jsx)(n.th,{children:"File Path"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Expert Pool"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"agents/stella-agent/src/stella_agent/pipeline/expert_pool.py"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Input Gate"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"agents/stella-agent/src/stella_agent/pipeline/input_gate.py"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Aggregator"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"agents/stella-agent/src/stella_agent/pipeline/aggregator.py"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Expert Result"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"agents/stella-agent/src/stella_agent/models/expert_result.py"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Expert Configs"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"agents/stella-agent/src/stella_agent/experts/*.json"})})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"default-experts",children:"Default Experts"})," - Learn about the 5 built-in experts"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"configuration",children:"Configuration"})," - Understand the configuration schema"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"custom-experts",children:"Custom Experts"})," - Add your own domain experts"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>a});var s=t(6540);const l={},r=s.createContext(l);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);