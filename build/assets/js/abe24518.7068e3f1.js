"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[3345],{1425(n,e,t){t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"contributing/coding-standards/python","title":"Python","description":"Python coding standards for STELLA agents","source":"@site/docs/contributing/coding-standards/python.md","sourceDirName":"contributing/coding-standards","slug":"/contributing/coding-standards/python","permalink":"/STELLA_backend/docs/contributing/coding-standards/python","draft":false,"unlisted":false,"editUrl":"https://github.com/c4dhi/STELLA_backend/tree/main/docs-site/docs/contributing/coding-standards/python.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Python","description":"Python coding standards for STELLA agents"},"sidebar":"docsSidebar","previous":{"title":"TypeScript","permalink":"/STELLA_backend/docs/contributing/coding-standards/typescript"},"next":{"title":"React","permalink":"/STELLA_backend/docs/contributing/coding-standards/react"}}');var i=t(4848),r=t(8453);const o={sidebar_position:3,title:"Python",description:"Python coding standards for STELLA agents"},a="Python (Agents)",l={},d=[{value:"Style Guide",id:"style-guide",level:2},{value:"Formatting",id:"formatting",level:2},{value:"Linting",id:"linting",level:2},{value:"Naming Conventions",id:"naming-conventions",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Agent",id:"agent",level:3},{value:"Tool",id:"tool",level:3},{value:"File Organization",id:"file-organization",level:2},{value:"Best Practices",id:"best-practices",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"python-agents",children:"Python (Agents)"})}),"\n",(0,i.jsx)(e.p,{children:"Standards for Python agent implementations."}),"\n",(0,i.jsx)(e.h2,{id:"style-guide",children:"Style Guide"}),"\n",(0,i.jsxs)(e.p,{children:["We follow ",(0,i.jsx)(e.a,{href:"https://pep8.org/",children:"PEP 8"})," with ",(0,i.jsx)(e.a,{href:"https://black.readthedocs.io/",children:"Black"})," formatting."]}),"\n",(0,i.jsx)(e.h2,{id:"formatting",children:"Formatting"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Format code\nblack src/\n\n# Check formatting\nblack --check src/\n"})}),"\n",(0,i.jsx)(e.h2,{id:"linting",children:"Linting"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Run linter\npylint src/\n\n# Type checking\nmypy src/\n"})}),"\n",(0,i.jsx)(e.h2,{id:"naming-conventions",children:"Naming Conventions"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Type"}),(0,i.jsx)(e.th,{children:"Convention"}),(0,i.jsx)(e.th,{children:"Example"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Classes"}),(0,i.jsx)(e.td,{children:"PascalCase"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"BaseAgent"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Functions"}),(0,i.jsx)(e.td,{children:"snake_case"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"on_transcript"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Variables"}),(0,i.jsx)(e.td,{children:"snake_case"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"session_id"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Constants"}),(0,i.jsx)(e.td,{children:"UPPER_SNAKE"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"MAX_RETRIES"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Private"}),(0,i.jsx)(e.td,{children:"_leading"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"_internal_state"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Files"}),(0,i.jsx)(e.td,{children:"snake_case"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"audio_pipeline.py"})})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,i.jsx)(e.h3,{id:"agent",children:"Agent"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'"""Customer support agent implementation."""\n\nfrom typing import Optional\n\nfrom openai import AsyncOpenAI\nfrom stella_sdk import BaseAgent, AudioPipeline, tool\n\nfrom .config import settings\n\n\nclass CustomerSupportAgent(BaseAgent):\n    """Agent for handling customer support conversations."""\n\n    def __init__(self) -> None:\n        super().__init__()\n        self.pipeline = AudioPipeline(\n            stt_provider=settings.stt_provider,\n            tts_provider=settings.tts_provider,\n        )\n        self.openai = AsyncOpenAI()\n        self.history: list[dict] = []\n\n    async def on_connect(self) -> None:\n        """Handle connection to the LiveKit room."""\n        greeting = "Hello! How can I help you today?"\n        await self.speak(greeting)\n\n    async def on_transcript(self, text: str, is_final: bool) -> None:\n        """Process transcribed speech.\n\n        Args:\n            text: The transcribed text\n            is_final: Whether this is a final transcription\n        """\n        if not is_final:\n            return\n\n        self.history.append({"role": "user", "content": text})\n        response = await self._generate_response(text)\n        await self.speak(response)\n\n    async def _generate_response(self, user_input: str) -> str:\n        """Generate a response using the LLM."""\n        result = await self.openai.chat.completions.create(\n            model=settings.openai_model,\n            messages=self.history,\n        )\n        return result.choices[0].message.content\n'})}),"\n",(0,i.jsx)(e.h3,{id:"tool",children:"Tool"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'"""Search tools for the agent."""\n\nfrom typing import Optional\n\nfrom stella_sdk import tool\n\nfrom .database import db\n\n\n@tool\nasync def search_knowledge(\n    query: str,\n    category: Optional[str] = None,\n    limit: int = 5,\n) -> dict:\n    """Search the knowledge base for relevant articles.\n\n    Args:\n        query: The search query\n        category: Optional category filter\n        limit: Maximum number of results\n\n    Returns:\n        dict: Search results with articles\n    """\n    results = await db.search(query, category=category, limit=limit)\n\n    return {\n        "found": len(results) > 0,\n        "articles": [\n            {"title": r.title, "summary": r.summary}\n            for r in results\n        ],\n    }\n'})}),"\n",(0,i.jsx)(e.h2,{id:"file-organization",children:"File Organization"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"agents/stella-agent/\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 stella_agent/\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 agent.py\n\u2502       \u251c\u2500\u2500 config.py\n\u2502       \u251c\u2500\u2500 pipeline/\n\u2502       \u2502   \u251c\u2500\u2500 __init__.py\n\u2502       \u2502   \u251c\u2500\u2500 audio.py\n\u2502       \u2502   \u2514\u2500\u2500 stt.py\n\u2502       \u251c\u2500\u2500 tools/\n\u2502       \u2502   \u251c\u2500\u2500 __init__.py\n\u2502       \u2502   \u2514\u2500\u2500 search.py\n\u2502       \u2514\u2500\u2500 models/\n\u2502           \u251c\u2500\u2500 __init__.py\n\u2502           \u2514\u2500\u2500 session.py\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 test_agent.py\n\u2502   \u2514\u2500\u2500 test_tools.py\n\u251c\u2500\u2500 pyproject.toml\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,i.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Use type hints for all function parameters and returns"}),"\n",(0,i.jsx)(e.li,{children:"Write docstrings for all public functions and classes"}),"\n",(0,i.jsxs)(e.li,{children:["Use ",(0,i.jsx)(e.code,{children:"async/await"})," for all I/O operations"]}),"\n",(0,i.jsx)(e.li,{children:"Keep functions focused and under 20 lines when possible"}),"\n",(0,i.jsx)(e.li,{children:"Use dataclasses or Pydantic models for structured data"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},8453(n,e,t){t.d(e,{R:()=>o,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function o(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);