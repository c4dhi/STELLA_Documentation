"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[6135],{4053(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"plan-structure/index","title":"Overview","description":"Plans are JSON-based conversation blueprints that define how STELLA agents conduct guided conversations. A Plan specifies the flow of states, tasks to complete, and data to collect from users.","source":"@site/docs/plan-structure/index.md","sourceDirName":"plan-structure","slug":"/plan-structure/","permalink":"/STELLA_backend/docs/plan-structure/","draft":false,"unlisted":false,"editUrl":"https://github.com/c4dhi/STELLA_backend/tree/main/docs-site/docs/plan-structure/index.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Overview"},"sidebar":"docsSidebar","previous":{"title":"\ud83d\udd0a echo-agent","permalink":"/STELLA_backend/docs/agents/echo-agent"},"next":{"title":"States","permalink":"/STELLA_backend/docs/plan-structure/states"}}');var i=t(4848),r=t(8453);const l={sidebar_position:1,title:"Overview"},d="Plan Structure Overview",c={},a=[{value:"Plan Hierarchy",id:"plan-hierarchy",level:2},{value:"Component Relationships",id:"component-relationships",level:3},{value:"How Plans Configure Agent Behavior",id:"how-plans-configure-agent-behavior",level:2},{value:"Plan Properties",id:"plan-properties",level:2},{value:"Quick Example",id:"quick-example",level:2},{value:"Session Context",id:"session-context",level:2},{value:"Session Context Field Types",id:"session-context-field-types",level:3},{value:"Source Reference",id:"source-reference",level:2},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"plan-structure-overview",children:"Plan Structure Overview"})}),"\n",(0,i.jsx)(n.p,{children:"Plans are JSON-based conversation blueprints that define how STELLA agents conduct guided conversations. A Plan specifies the flow of states, tasks to complete, and data to collect from users."}),"\n",(0,i.jsx)(n.h2,{id:"plan-hierarchy",children:"Plan Hierarchy"}),"\n",(0,i.jsx)(n.p,{children:"Plans follow a hierarchical structure where each level serves a specific purpose:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Plan (Root)\n\u251c\u2500\u2500 States (Conversation Phases)\n\u2502   \u2514\u2500\u2500 Tasks (Specific Actions)\n\u2502       \u2514\u2500\u2500 Deliverables (Data to Collect)\n\u2514\u2500\u2500 Metadata (system_prompt, initial_state_id, etc.)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"component-relationships",children:"Component Relationships"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Component"}),(0,i.jsx)(n.th,{children:"Contains"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Plan"})}),(0,i.jsx)(n.td,{children:"States"}),(0,i.jsx)(n.td,{children:"Top-level container defining the entire conversation flow"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"State"})}),(0,i.jsx)(n.td,{children:"Tasks"}),(0,i.jsx)(n.td,{children:"Distinct phase of conversation (e.g., Greeting, Data Collection)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Task"})}),(0,i.jsx)(n.td,{children:"Deliverables"}),(0,i.jsx)(n.td,{children:"Individual unit of work within a state"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Deliverable"})}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Specific piece of information to collect"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"how-plans-configure-agent-behavior",children:"How Plans Configure Agent Behavior"}),"\n",(0,i.jsx)(n.p,{children:"When a STELLA agent loads a plan:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Initialization"})," \u2014 Agent reads the plan and sets up the state machine"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Starting State"})," \u2014 Agent enters the ",(0,i.jsx)(n.code,{children:"initial_state_id"})," state"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Task Execution"})," \u2014 Agent works through tasks based on state type (strict or loose)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Data Collection"})," \u2014 Agent extracts deliverables from user responses"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"State Transitions"})," \u2014 Agent moves to new states when transition conditions are met"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Completion"})," \u2014 Plan ends when final state tasks are complete"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"plan-properties",children:"Plan Properties"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Unique identifier for the plan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"title"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Human-readable name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"description"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Overview of the plan's purpose"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"initial_state_id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Starting state (defaults to first state)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"states"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"array"})}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Array of state definitions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"system_prompt"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Agent persona and behavior instructions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"session_context"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Fields to collect at session start"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"metadata"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Additional metadata (version, notes, etc.)"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"quick-example",children:"Quick Example"}),"\n",(0,i.jsx)(n.p,{children:"Here's a minimal plan with two states:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "simple-greeting",\n  "title": "Simple Greeting Flow",\n  "description": "A basic greeting and farewell conversation",\n  "initial_state_id": "greeting",\n  "system_prompt": "You are a friendly assistant. Be warm and helpful.",\n  "states": [\n    {\n      "id": "greeting",\n      "title": "Greeting",\n      "type": "loose",\n      "description": "Welcome the user and collect their name",\n      "tasks": [\n        {\n          "id": "welcome",\n          "description": "Welcome Task",\n          "instruction": "Greet the user warmly and ask for their name",\n          "required": true,\n          "deliverables": [\n            {\n              "key": "user_name",\n              "type": "string",\n              "description": "The user\'s name",\n              "required": true\n            }\n          ]\n        }\n      ],\n      "transitions": [\n        {\n          "target_state_id": "farewell",\n          "condition_type": "all_tasks_complete",\n          "priority": 1\n        }\n      ]\n    },\n    {\n      "id": "farewell",\n      "title": "Farewell",\n      "type": "strict",\n      "description": "Say goodbye to the user",\n      "tasks": [\n        {\n          "id": "goodbye",\n          "description": "Goodbye Task",\n          "instruction": "Thank the user by name and wish them well",\n          "required": true,\n          "deliverables": []\n        }\n      ],\n      "transitions": []\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"session-context",children:"Session Context"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"session_context"})," field allows you to define information collected from participants before the conversation starts:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "session_context": {\n    "fields": [\n      {\n        "id": "participant_name",\n        "label": "Your Name",\n        "type": "string",\n        "required": true,\n        "description": "Enter your full name"\n      },\n      {\n        "id": "preferred_language",\n        "label": "Preferred Language",\n        "type": "select",\n        "required": false,\n        "options": ["English", "Spanish", "French", "German"]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"session-context-field-types",children:"Session Context Field Types"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Free-form text input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Numeric value"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"True/false toggle"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"select"})}),(0,i.jsx)(n.td,{children:"Dropdown with predefined options"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"source-reference",children:"Source Reference"}),"\n",(0,i.jsx)(n.p,{children:"The Plan type definitions are located in the STELLA Agent SDK:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"agents/stella-ai-agent-sdk/src/stella_agent_sdk/plan/types.py\n"})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/plan-structure/states",children:"States"})," \u2014 Learn about conversation phases and transitions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/plan-structure/tasks",children:"Tasks"})," \u2014 Understand task execution and configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/plan-structure/deliverables",children:"Deliverables"})," \u2014 Configure data collection"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/plan-structure/examples",children:"Examples"})," \u2014 See complete plan examples"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,n,t){t.d(n,{R:()=>l,x:()=>d});var s=t(6540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);