"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[6383],{5801(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"guides","title":"Guides","description":"Practical guides for common tasks and advanced configurations.","source":"@site/docs/guides.md","sourceDirName":".","slug":"/guides","permalink":"/STELLA_backend/docs/guides","draft":false,"unlisted":false,"editUrl":"https://github.com/c4dhi/STELLA_backend/tree/main/docs-site/docs/guides.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Guides"}}');var i=s(4848),r=s(8453);const d={sidebar_position:5,title:"Guides"},l="Guides",a={},o=[{value:"Development Guides",id:"development-guides",level:2},{value:"Local Development Setup",id:"local-development-setup",level:3},{value:"Running Tests",id:"running-tests",level:3},{value:"Database Migrations",id:"database-migrations",level:3},{value:"Useful Commands",id:"useful-commands",level:2},{value:"Kubernetes",id:"kubernetes",level:3},{value:"Daemon Mode",id:"daemon-mode",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Projects",id:"projects",level:3},{value:"Sessions",id:"sessions",level:3},{value:"Agents",id:"agents",level:3},{value:"Configuration Guides",id:"configuration-guides",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Plan Templates",id:"plan-templates",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Further Reading",id:"further-reading",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"guides",children:"Guides"})}),"\n",(0,i.jsx)(n.p,{children:"Practical guides for common tasks and advanced configurations."}),"\n",(0,i.jsx)(n.h2,{id:"development-guides",children:"Development Guides"}),"\n",(0,i.jsx)(n.h3,{id:"local-development-setup",children:"Local Development Setup"}),"\n",(0,i.jsx)(n.p,{children:"For developing STELLA without the full Kubernetes stack:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install dependencies\nnpm install\n\n# Generate Prisma client\nnpx prisma generate\n\n# Run database migrations\nnpx prisma migrate dev\n\n# Start development server\nnpm run start:dev\n"})}),"\n",(0,i.jsx)(n.h3,{id:"running-tests",children:"Running Tests"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Unit tests\nnpm run test\n\n# E2E tests\nnpm run test:e2e\n\n# Test coverage\nnpm run test:cov\n"})}),"\n",(0,i.jsx)(n.h3,{id:"database-migrations",children:"Database Migrations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create a new migration\nnpx prisma migrate dev --name your_migration_name\n\n# Reset database (development only)\nnpx prisma migrate reset\n\n# Deploy migrations to production\nnpx prisma migrate deploy\n"})}),"\n",(0,i.jsx)(n.h2,{id:"useful-commands",children:"Useful Commands"}),"\n",(0,i.jsx)(n.h3,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# View all resources in the namespace\nkubectl get all -n ai-agents\n\n# View agent pods\nkubectl get pods -n ai-agents -l app=conversational-ai-agent\n\n# View backend logs\nkubectl logs -f -n ai-agents -l app=session-management-server\n\n# View specific agent logs\nkubectl logs -n ai-agents <agent-pod-name>\n\n# Access Postgres database\nkubectl port-forward -n ai-agents svc/postgres 5432:5432\n"})}),"\n",(0,i.jsx)(n.h3,{id:"daemon-mode",children:"Daemon Mode"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check if port-forwards are running\ncat /tmp/stella-ai-k8s/port-forwards.pid\nps -p $(cat /tmp/stella-ai-k8s/port-forwards.pid)\n\n# View daemon logs\ntail -f /tmp/stella-ai-k8s/stella-ai-k8s.log\n\n# Clean restart\n./scripts/start-k8s.sh --stop\n./scripts/start-k8s.sh --daemon\n"})}),"\n",(0,i.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,i.jsx)(n.h3,{id:"projects",children:"Projects"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Create project\ncurl -X POST http://localhost:3000/projects \\\n  -H "Content-Type: application/json" \\\n  -d \'{"name": "My Project"}\'\n\n# List projects\ncurl http://localhost:3000/projects\n\n# Get project stats\ncurl http://localhost:3000/projects/:projectId/stats\n'})}),"\n",(0,i.jsx)(n.h3,{id:"sessions",children:"Sessions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Create session\ncurl -X POST http://localhost:3000/projects/:projectId/sessions \\\n  -H "Content-Type: application/json" \\\n  -d \'{"planId": "my_plan"}\'\n\n# Get join token\ncurl -X POST http://localhost:3000/sessions/:sessionId/joinToken \\\n  -H "Content-Type: application/json" \\\n  -d \'{"identity": "user-123", "name": "John Doe"}\'\n'})}),"\n",(0,i.jsx)(n.h3,{id:"agents",children:"Agents"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Start agent\ncurl -X POST http://localhost:3000/sessions/:sessionId/agents \\\n  -H "Content-Type: application/json" \\\n  -d \'{"role": "conversational-ai"}\'\n\n# Get agent status\ncurl http://localhost:3000/agents/:agentId\n\n# Get agent logs\ncurl http://localhost:3000/agents/:agentId/logs\n\n# Stop agent\ncurl -X DELETE http://localhost:3000/agents/:agentId\n'})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-guides",children:"Configuration Guides"}),"\n",(0,i.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Default"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DATABASE_URL"})}),(0,i.jsx)(n.td,{children:"PostgreSQL connection string"}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PORT"})}),(0,i.jsx)(n.td,{children:"Server port"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"3000"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NODE_ENV"})}),(0,i.jsx)(n.td,{children:"Environment mode"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"development"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"LIVEKIT_URL"})}),(0,i.jsx)(n.td,{children:"LiveKit server URL (internal)"}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PUBLIC_LIVEKIT_URL"})}),(0,i.jsx)(n.td,{children:"LiveKit URL for browser clients"}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"LIVEKIT_API_KEY"})}),(0,i.jsx)(n.td,{children:"LiveKit API key"}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"LIVEKIT_API_SECRET"})}),(0,i.jsx)(n.td,{children:"LiveKit API secret"}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"KUBERNETES_NAMESPACE"})}),(0,i.jsx)(n.td,{children:"K8s namespace for agents"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ai-agents"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"AGENT_IMAGE"})}),(0,i.jsx)(n.td,{children:"Docker image for agents"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"conversational-ai-server:latest"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"OPENAI_API_KEY"})}),(0,i.jsx)(n.td,{children:"OpenAI API key (for agents)"}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"STT_PROVIDER"})}),(0,i.jsx)(n.td,{children:"Speech-to-text provider"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sherpa"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TTS_PROVIDER"})}),(0,i.jsx)(n.td,{children:"Text-to-speech provider"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"kokoro"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"plan-templates",children:"Plan Templates"}),"\n",(0,i.jsx)(n.p,{children:"Create custom conversation plans:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "customer-support",\n  "name": "Customer Support",\n  "description": "Handle customer inquiries",\n  "systemPrompt": "You are a helpful customer support agent...",\n  "tools": ["search_kb", "create_ticket"],\n  "settings": {\n    "maxTurns": 20,\n    "timeout": 300,\n    "greeting": "Hello! How can I help you today?"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.p,{children:"See specific troubleshooting sections in:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/getting-started/installation#troubleshooting",children:"Installation Guide"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/getting-started/first-agent#troubleshooting",children:"First Agent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/deployment/kubernetes#troubleshooting",children:"Kubernetes Deployment"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/deployment/kubernetes",children:"Deployment Guides"})," - Production deployment"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/integration/livekit",children:"LiveKit Integration"})," - WebRTC setup"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/agent-sdk/overview",children:"Agent SDK"})," - Building custom agents"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>d,x:()=>l});var t=s(6540);const i={},r=t.createContext(i);function d(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);