"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[477],{5682(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"architecture/session-lifecycle","title":"Session Lifecycle","description":"Understanding session states and transitions in STELLA","source":"@site/docs/architecture/session-lifecycle.md","sourceDirName":"architecture","slug":"/architecture/session-lifecycle","permalink":"/STELLA_backend/docs/architecture/session-lifecycle","draft":false,"unlisted":false,"editUrl":"https://github.com/c4dhi/STELLA_backend/tree/main/docs-site/docs/architecture/session-lifecycle.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Session Lifecycle","description":"Understanding session states and transitions in STELLA"},"sidebar":"docsSidebar","previous":{"title":"Data Flow","permalink":"/STELLA_backend/docs/architecture/data-flow"},"next":{"title":"Database Schema","permalink":"/STELLA_backend/docs/architecture/database"}}');var t=s(4848),r=s(8453);const c={sidebar_position:3,title:"Session Lifecycle",description:"Understanding session states and transitions in STELLA"},d="Session Lifecycle",l={},a=[{value:"Session States",id:"session-states",level:2},{value:"State Descriptions",id:"state-descriptions",level:2},{value:"PENDING",id:"pending",level:3},{value:"CONNECTING",id:"connecting",level:3},{value:"ACTIVE",id:"active",level:3},{value:"PAUSED",id:"paused",level:3},{value:"ENDING",id:"ending",level:3},{value:"ENDED",id:"ended",level:3},{value:"Events",id:"events",level:2},{value:"Backend Events (WebSocket)",id:"backend-events-websocket",level:3},{value:"Agent Events",id:"agent-events",level:3},{value:"Timeouts",id:"timeouts",level:2},{value:"Configuring Timeouts",id:"configuring-timeouts",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Agent Crash Recovery",id:"agent-crash-recovery",level:3},{value:"Graceful Degradation",id:"graceful-degradation",level:3},{value:"Message Recording",id:"message-recording",level:2},{value:"What Gets Recorded",id:"what-gets-recorded",level:3},{value:"How It Works",id:"how-it-works",level:3},{value:"Retrieving Transcripts",id:"retrieving-transcripts",level:3},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"session-lifecycle",children:"Session Lifecycle"})}),"\n",(0,t.jsx)(n.p,{children:"Sessions in STELLA go through several states from creation to termination. Understanding these states helps with debugging and building features that respond to session events."}),"\n",(0,t.jsx)(n.h2,{id:"session-states",children:"Session States"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  PENDING   \u2502  Session created, waiting for agent\n\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 CONNECTING \u2502  Agent pod starting, connecting to LiveKit\n\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   ACTIVE   \u2502  Conversation in progress\n\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n      \u25bc                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  PAUSED    \u2502    \u2502  ENDING    \u2502  User or agent initiated end\n\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502                 \u2502\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u25bc\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502   ENDED    \u2502  Session complete, resources cleaned\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h2,{id:"state-descriptions",children:"State Descriptions"}),"\n",(0,t.jsx)(n.h3,{id:"pending",children:"PENDING"}),"\n",(0,t.jsx)(n.p,{children:"The session has been created but the agent hasn't started yet."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Entry conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"API call to create session"}),"\n",(0,t.jsx)(n.li,{children:"Agent type specified"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Exit conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Agent pod scheduled \u2192 CONNECTING"}),"\n",(0,t.jsx)(n.li,{children:"Timeout (5 minutes) \u2192 ENDED"}),"\n",(0,t.jsx)(n.li,{children:"User cancels \u2192 ENDED"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Creating a session puts it in PENDING state\nconst session = await api.createSession({\n  projectId: 'project-123',\n  agentType: 'stella-agent',\n  config: { /* agent config */ }\n});\n// session.status === 'PENDING'\n"})}),"\n",(0,t.jsx)(n.h3,{id:"connecting",children:"CONNECTING"}),"\n",(0,t.jsx)(n.p,{children:"The agent pod is starting and connecting to LiveKit."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Entry conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Kubernetes pod scheduled"}),"\n",(0,t.jsx)(n.li,{children:"Pod is starting"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Exit conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Agent connects to LiveKit \u2192 ACTIVE"}),"\n",(0,t.jsx)(n.li,{children:"Pod fails to start \u2192 ENDED"}),"\n",(0,t.jsx)(n.li,{children:"Timeout (2 minutes) \u2192 ENDED"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Backend creates Kubernetes secret with credentials"}),"\n",(0,t.jsx)(n.li,{children:"Backend creates agent pod"}),"\n",(0,t.jsx)(n.li,{children:"Pod starts and initializes"}),"\n",(0,t.jsx)(n.li,{children:"Agent connects to LiveKit room"}),"\n",(0,t.jsx)(n.li,{children:"Agent signals ready"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"active",children:"ACTIVE"}),"\n",(0,t.jsx)(n.p,{children:"The conversation is in progress."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Entry conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Agent successfully connected"}),"\n",(0,t.jsx)(n.li,{children:"User can join"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Exit conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"User leaves \u2192 ENDING"}),"\n",(0,t.jsx)(n.li,{children:"Agent crashes \u2192 ENDING"}),"\n",(0,t.jsx)(n.li,{children:"Idle timeout \u2192 ENDING"}),"\n",(0,t.jsx)(n.li,{children:"API call to end \u2192 ENDING"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"During ACTIVE state:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Users can join/leave the room"}),"\n",(0,t.jsx)(n.li,{children:"Messages are exchanged"}),"\n",(0,t.jsx)(n.li,{children:"Status updates are sent"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Joining an active session\nconst token = await api.joinSession(sessionId);\n// Use token to connect to LiveKit\nawait room.connect(livekitUrl, token);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"paused",children:"PAUSED"}),"\n",(0,t.jsx)(n.p,{children:"The session is temporarily paused (optional state)."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Entry conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"User requests pause"}),"\n",(0,t.jsx)(n.li,{children:"Agent requests pause"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Exit conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Resume requested \u2192 ACTIVE"}),"\n",(0,t.jsx)(n.li,{children:"Timeout \u2192 ENDING"}),"\n",(0,t.jsx)(n.li,{children:"Cancel requested \u2192 ENDING"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Use cases:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"User needs to step away briefly"}),"\n",(0,t.jsx)(n.li,{children:"Agent waiting for external process"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"ending",children:"ENDING"}),"\n",(0,t.jsx)(n.p,{children:"The session is shutting down."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Entry conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"End session requested"}),"\n",(0,t.jsx)(n.li,{children:"Error occurred"}),"\n",(0,t.jsx)(n.li,{children:"Timeout reached"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Exit conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cleanup complete \u2192 ENDED"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Agent receives shutdown signal"}),"\n",(0,t.jsx)(n.li,{children:"Agent saves conversation state"}),"\n",(0,t.jsx)(n.li,{children:"Agent disconnects from LiveKit"}),"\n",(0,t.jsx)(n.li,{children:"Backend deletes Kubernetes pod"}),"\n",(0,t.jsx)(n.li,{children:"Backend deletes Kubernetes secret"}),"\n",(0,t.jsx)(n.li,{children:"Session marked as ENDED"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"ended",children:"ENDED"}),"\n",(0,t.jsx)(n.p,{children:"The session is complete and resources are cleaned up."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Entry conditions:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cleanup complete"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"No more state changes"}),"\n",(0,t.jsx)(n.li,{children:"Historical data preserved"}),"\n",(0,t.jsx)(n.li,{children:"Resources freed"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,t.jsx)(n.p,{children:"Sessions emit events that you can subscribe to:"}),"\n",(0,t.jsx)(n.h3,{id:"backend-events-websocket",children:"Backend Events (WebSocket)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Connect to WebSocket for session updates\nconst ws = new WebSocket(`wss://api.example.com/sessions/${sessionId}/ws`);\n\nws.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n\n  switch (data.type) {\n    case 'session.status_changed':\n      console.log(`Status: ${data.status}`);\n      break;\n\n    case 'session.participant_joined':\n      console.log(`${data.participant.name} joined`);\n      break;\n\n    case 'session.participant_left':\n      console.log(`${data.participant.name} left`);\n      break;\n\n    case 'session.message':\n      console.log(`${data.speaker}: ${data.content}`);\n      break;\n\n    case 'session.error':\n      console.error(`Error: ${data.message}`);\n      break;\n  }\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"agent-events",children:"Agent Events"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class MyAgent(BaseAgent):\n    async def on_connect(self):\n        """Called when agent connects to the room."""\n        print(f"Connected to session: {self.session_id}")\n\n    async def on_participant_joined(self, participant):\n        """Called when a user joins."""\n        print(f"User joined: {participant.identity}")\n        await self.greet_user(participant)\n\n    async def on_participant_left(self, participant):\n        """Called when a user leaves."""\n        print(f"User left: {participant.identity}")\n\n    async def on_disconnect(self):\n        """Called when agent is disconnecting."""\n        print("Session ending, saving state...")\n        await self.save_conversation()\n\n    async def on_shutdown(self):\n        """Called for graceful shutdown."""\n        print("Shutting down...")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"timeouts",children:"Timeouts"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"State"}),(0,t.jsx)(n.th,{children:"Timeout"}),(0,t.jsx)(n.th,{children:"Configurable"}),(0,t.jsx)(n.th,{children:"Action"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"PENDING"}),(0,t.jsx)(n.td,{children:"5 min"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"End session"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"CONNECTING"}),(0,t.jsx)(n.td,{children:"2 min"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"End session, alert"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"ACTIVE (idle)"}),(0,t.jsx)(n.td,{children:"30 min"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"End session"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"PAUSED"}),(0,t.jsx)(n.td,{children:"15 min"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"End session"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"ENDING"}),(0,t.jsx)(n.td,{children:"1 min"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Force cleanup"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"configuring-timeouts",children:"Configuring Timeouts"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# Session configuration\nsession:\n  timeouts:\n    pending: 300        # seconds\n    connecting: 120     # seconds\n    idle: 1800          # seconds\n    paused: 900         # seconds\n"})}),"\n",(0,t.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsx)(n.h3,{id:"agent-crash-recovery",children:"Agent Crash Recovery"}),"\n",(0,t.jsx)(n.p,{children:"If an agent crashes during an active session:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Backend detects pod termination"}),"\n",(0,t.jsx)(n.li,{children:"Session moves to ENDING state"}),"\n",(0,t.jsx)(n.li,{children:"Error event emitted to clients"}),"\n",(0,t.jsx)(n.li,{children:"Resources cleaned up"}),"\n",(0,t.jsx)(n.li,{children:"Optional: Auto-restart with state recovery"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Frontend handling agent crash\nws.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n\n  if (data.type === 'session.error' && data.code === 'AGENT_CRASHED') {\n    // Show user-friendly message\n    showNotification('Connection lost. Reconnecting...');\n\n    // Optionally attempt reconnection\n    if (data.recoverable) {\n      await reconnectSession(sessionId);\n    }\n  }\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"graceful-degradation",children:"Graceful Degradation"}),"\n",(0,t.jsx)(n.p,{children:"When issues occur, STELLA attempts graceful degradation:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"STT failure"}),": Fall back to text input"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TTS failure"}),": Display text response"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LLM timeout"}),": Retry with shorter context"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Network issues"}),": Buffer and retry"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"message-recording",children:"Message Recording"}),"\n",(0,t.jsx)(n.p,{children:"STELLA automatically records all messages exchanged during a session for transcript retrieval, debugging, and audit purposes."}),"\n",(0,t.jsx)(n.h3,{id:"what-gets-recorded",children:"What Gets Recorded"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Message Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"transcript"})}),(0,t.jsx)(n.td,{children:"Final speech-to-text transcriptions (user speech)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"agent_text"})}),(0,t.jsx)(n.td,{children:"Agent responses (final text, not streaming chunks)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"user_text"})}),(0,t.jsx)(n.td,{children:"Direct text input from users"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"participant_joined/left"})}),(0,t.jsx)(n.td,{children:"Participant events"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"complete_todo_list"})}),(0,t.jsx)(n.td,{children:"Task list updates"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"state_change_notification"})}),(0,t.jsx)(n.td,{children:"State machine transitions"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"debug"})}),(0,t.jsx)(n.td,{children:"Debug messages (optional retrieval)"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Auto-Discovery"}),": A message recorder service polls for active sessions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Room Connection"}),": Connects to LiveKit rooms without subscribing to media"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Selective Recording"}),": Filters out audio streaming, partial chunks, and control messages"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Storage"}),": Messages stored with full envelope, participant attribution, and timestamps"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"retrieving-transcripts",children:"Retrieving Transcripts"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"API Endpoint:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /sessions/{sessionId}/messages\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"limit"})," - Max messages (1-100, default: 50)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"before"})," - ISO timestamp for pagination"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"include_debug"})," - Include debug messages (default: false)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"For agents"}),", see ",(0,t.jsx)(n.a,{href:"/docs/guides/build-your-own-agent#accessing-chat-history",children:"Accessing Chat History"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/architecture/kubernetes-orchestration",children:"Kubernetes Orchestration"})," - Pod management"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/architecture/data-flow",children:"Data Flow"})," - Message flow details"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453(e,n,s){s.d(n,{R:()=>c,x:()=>d});var i=s(6540);const t={},r=i.createContext(t);function c(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);