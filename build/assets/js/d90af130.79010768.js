"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[9109],{3145(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"agent-sdk/getting-started","title":"\ud83c\udfc1 Getting Started","description":"This guide walks you through creating your first custom agent using the STELLA Agent SDK.","source":"@site/docs/agent-sdk/getting-started.md","sourceDirName":"agent-sdk","slug":"/agent-sdk/getting-started","permalink":"/STELLA_backend/docs/agent-sdk/getting-started","draft":false,"unlisted":false,"editUrl":"https://github.com/c4dhi/STELLA_backend/tree/main/docs-site/docs/agent-sdk/getting-started.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"\ud83c\udfc1 Getting Started"}}');var i=t(4848),a=t(8453);const r={sidebar_position:2,title:"\ud83c\udfc1 Getting Started"},o="\ud83c\udfc1 Getting Started with the Agent SDK",l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Project Setup",id:"project-setup",level:2},{value:"Your First Agent",id:"your-first-agent",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Dockerfile",id:"dockerfile",level:2},{value:"Running Locally",id:"running-locally",level:2},{value:"Building and Deploying",id:"building-and-deploying",level:2},{value:"Testing Your Agent",id:"testing-your-agent",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"-getting-started-with-the-agent-sdk",children:"\ud83c\udfc1 Getting Started with the Agent SDK"})}),"\n",(0,i.jsx)(n.p,{children:"This guide walks you through creating your first custom agent using the STELLA Agent SDK."}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Python 3.9+"}),"\n",(0,i.jsx)(n.li,{children:"A running STELLA backend"}),"\n",(0,i.jsx)(n.li,{children:"LiveKit server access"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pip install stella-agent-sdk\n"})}),"\n",(0,i.jsx)(n.h2,{id:"project-setup",children:"Project Setup"}),"\n",(0,i.jsx)(n.p,{children:"Create a new directory for your agent:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir my-custom-agent\ncd my-custom-agent\n"})}),"\n",(0,i.jsx)(n.p,{children:"Create the project structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"my-custom-agent/\n\u251c\u2500\u2500 agent.py           # Main agent code\n\u251c\u2500\u2500 requirements.txt   # Dependencies\n\u251c\u2500\u2500 Dockerfile         # Container configuration\n\u2514\u2500\u2500 config.yaml        # Agent configuration\n"})}),"\n",(0,i.jsx)(n.h2,{id:"your-first-agent",children:"Your First Agent"}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.code,{children:"agent.py"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import asyncio\nfrom stella_sdk import BaseAgent, AudioPipeline\n\nclass MyFirstAgent(BaseAgent):\n    """A simple agent that responds to user messages."""\n\n    def __init__(self):\n        super().__init__()\n        self.pipeline = AudioPipeline()\n        self.conversation_history = []\n\n    async def on_connect(self):\n        """Called when agent connects to the room."""\n        print(f"Connected to room: {self.room_name}")\n        await self.send_status("ready")\n\n        # Optional: Send a greeting\n        greeting = "Hello! I\'m your AI assistant. How can I help you?"\n        await self.speak(greeting)\n\n    async def on_disconnect(self):\n        """Called when agent disconnects."""\n        print("Disconnected from room")\n\n    async def on_transcript(self, text: str, is_final: bool):\n        """Called when user speech is transcribed."""\n        if not is_final:\n            # Partial transcript - could update UI\n            return\n\n        # Final transcript - generate response\n        print(f"User said: {text}")\n\n        # Add to conversation history\n        self.conversation_history.append({\n            "role": "user",\n            "content": text\n        })\n\n        # Generate and speak response\n        response = await self.generate_response(text)\n        await self.speak(response)\n\n        # Add response to history\n        self.conversation_history.append({\n            "role": "assistant",\n            "content": response\n        })\n\n    async def on_data_message(self, message: dict):\n        """Called when receiving a data channel message."""\n        if message.get("type") == "user_text":\n            # Handle text input\n            await self.on_transcript(message["data"], is_final=True)\n\n    async def generate_response(self, user_input: str) -> str:\n        """Generate a response using OpenAI."""\n        from openai import AsyncOpenAI\n\n        client = AsyncOpenAI()\n\n        messages = [\n            {"role": "system", "content": "You are a helpful assistant."},\n            *self.conversation_history\n        ]\n\n        response = await client.chat.completions.create(\n            model="gpt-4o",\n            messages=messages,\n            stream=False\n        )\n\n        return response.choices[0].message.content\n\n    async def speak(self, text: str):\n        """Convert text to speech and publish to room."""\n        await self.send_transcript(text, speaker="assistant")\n        audio = await self.pipeline.text_to_speech(text)\n        await self.publish_audio(audio)\n\n\nif __name__ == "__main__":\n    agent = MyFirstAgent()\n    agent.run()\n'})}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.code,{children:"config.yaml"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"agent:\n  name: my-first-agent\n  version: 1.0.0\n\nlivekit:\n  url: ${LIVEKIT_URL}\n  api_key: ${LIVEKIT_API_KEY}\n  api_secret: ${LIVEKIT_API_SECRET}\n\nopenai:\n  api_key: ${OPENAI_API_KEY}\n  model: gpt-4o\n\naudio:\n  stt_provider: sherpa\n  tts_provider: kokoro\n"})}),"\n",(0,i.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.code,{children:"requirements.txt"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"stella-agent-sdk>=1.0.0\nopenai>=1.0.0\nlivekit>=0.10.0\n"})}),"\n",(0,i.jsx)(n.h2,{id:"dockerfile",children:"Dockerfile"}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.code,{children:"Dockerfile"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dockerfile",children:'FROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy agent code\nCOPY . .\n\n# Run the agent\nCMD ["python", "agent.py"]\n'})}),"\n",(0,i.jsx)(n.h2,{id:"running-locally",children:"Running Locally"}),"\n",(0,i.jsx)(n.p,{children:"Set environment variables:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export LIVEKIT_URL=ws://localhost:7880\nexport LIVEKIT_API_KEY=devkey\nexport LIVEKIT_API_SECRET=secret\nexport OPENAI_API_KEY=sk-...\nexport ROOM_NAME=test-room\nexport PARTICIPANT_IDENTITY=my-agent\n"})}),"\n",(0,i.jsx)(n.p,{children:"Run the agent:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"python agent.py\n"})}),"\n",(0,i.jsx)(n.h2,{id:"building-and-deploying",children:"Building and Deploying"}),"\n",(0,i.jsx)(n.p,{children:"Build the Docker image:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker build -t my-custom-agent:latest .\n"})}),"\n",(0,i.jsx)(n.p,{children:"Deploy to STELLA by updating the agent image configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# In your .env or ConfigMap\nAGENT_IMAGE=my-custom-agent:latest\n"})}),"\n",(0,i.jsx)(n.h2,{id:"testing-your-agent",children:"Testing Your Agent"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Start STELLA: ",(0,i.jsx)(n.code,{children:"./scripts/start-k8s.sh"})]}),"\n",(0,i.jsx)(n.li,{children:"Create a session in the Frontend UI"}),"\n",(0,i.jsx)(n.li,{children:"Deploy your custom agent"}),"\n",(0,i.jsx)(n.li,{children:"Interact via voice or text"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/agent-sdk/base-agent",children:"Base Agent"})," - Learn about all BaseAgent methods"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/agent-sdk/audio-pipeline",children:"Audio Pipeline"})," - Configure STT/TTS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/agent-sdk/message-types",children:"Message Types"})," - Understand the message protocol"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/agent-sdk/tools",children:"Tools"})," - Add custom tool support"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>o});var s=t(6540);const i={},a=s.createContext(i);function r(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);